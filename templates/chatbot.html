{% extends "modelo.html" %}
{% block conteudo %}
<div class="container py-5 d-flex justify-content-center">
    <div class="card shadow-lg" style="width: 100%; max-width: 650px; border-radius: 1.5rem;">
        <div class="card-body">
            <h2 class="card-title text-center mb-4">pAIthon</h2>
            <form method="post" action="/chatbot" onsubmit="mostrarLoading()">
                <div class="mb-3">
                    <textarea id="pergunta" name="pergunta" class="form-control" placeholder="Digite sua pergunta" required rows="3" style="font-size:1.15rem; border-radius:1rem; min-height:70px;"></textarea>
                </div>
                <button type="submit" class="btn btn-primary w-100 py-2" style="font-size:1.1rem; border-radius:0.8rem;">Enviar</button>
            </form>
            <div id="loading" style="display:none;" class="text-center mt-3">
                <div class="spinner-border text-primary" role="status">
                  <span class="visually-hidden">Carregando...</span>
                </div>
                <div>Carregando resposta...</div>
            </div>
            {% if resposta %}
            <div class="alert alert-info mt-4" role="alert" style="font-size:1.1rem; border-radius:1rem;">
                <strong>Gemini:</strong> {{ resposta }}
            </div>
            {% endif %}
        </div>
    </div>
</div>
<script>
function mostrarLoading() {
    document.getElementById('loading').style.display = 'block';
}
</script>
{% endblock %}